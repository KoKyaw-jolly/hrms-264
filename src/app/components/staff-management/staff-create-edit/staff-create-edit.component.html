<div class="main-card-wrapper">
    <div>
        <h4 nz-typography>Staff {{isEdit?'Edit':'Create'}}</h4>
        <p nz-typography nzType="secondary">Organize holidays and manage prefix Holiday for staff efficiently.</p>
    </div>
    <nz-spin nzTip="Loading..." [nzSpinning]="staffLoading">
        <form nz-form [nzLayout]="'vertical'" [formGroup]="staffForm">
            <div class="row">
                <div class="col-sm-12 col-md-6 col-lg-4">
                    <nz-form-item>
                        <nz-form-label nzFor="fullName">Full Name</nz-form-label>
                        <nz-form-control nzErrorTip="Please fill full name for Staff!">
                            <input nz-input type="text" placeholder="eg. Ko Ko Kyaw" formControlName="fullName">
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div class="col-sm-12 col-md-6 col-lg-4">
                    <nz-form-item>
                        <nz-form-label nzFor=""
                            [nzTooltipTitle]="'Staff Id will be auto generate depends on Department.'">Staff
                            Id</nz-form-label>
                        <nz-form-control>
                            <input nz-input type="text" placeholder="-" formControlName="staffId" readonly>
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12 col-md-6 col-lg-4">
                    <nz-form-item>
                        <nz-form-label nzFor="gender">Gender</nz-form-label>
                        <nz-form-control nzErrorTip="Please select gender for Staff!">
                            <nz-select formControlName="gender">
                                <nz-option nzValue="male" nzLabel="Male"></nz-option>
                                <nz-option nzValue="female" nzLabel="Female"></nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div class="col-sm-12 col-md-6 col-lg-4">
                    <nz-form-item>
                        <nz-form-label nzFor="fullName">Birthday</nz-form-label>
                        <nz-form-control nzErrorTip="Please fill birthday for Staff!">
                            <nz-date-picker class="w100" formControlName="birthday"></nz-date-picker>
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12 col-md-6 col-lg-4">
                    <nz-form-item>
                        <nz-form-label nzFor="department">Department</nz-form-label>
                        <nz-form-control nzErrorTip="Please select a department!">
                            <nz-select formControlName="departmentId" nzPlaceHolder="select a department"
                                (ngModelChange)="onDepartmentChange($event)">
                                @for (department of departmentListData; track $index) {
                                <nz-option [nzValue]="department.id" [nzLabel]="department.name"></nz-option>
                                }
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div class="col-sm-12 col-md-6 col-lg-4">
                    <nz-form-item>
                        <nz-form-label nzFor="position">Position</nz-form-label>
                        <nz-form-control nzErrorTip="Please select a position!">
                            <nz-select formControlName="positionId" nzPlaceHolder="select a position">
                                @for (position of positionListByDepData; track $index) {
                                <nz-option [nzValue]="position.id" [nzLabel]="position.name"></nz-option>
                                }
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div class="col-sm-12 col-md-6 col-lg-4">
                    <nz-form-item>
                        <nz-form-label nzFor="role">Role</nz-form-label>
                        <nz-form-control nzErrorTip="Please select a role!">
                            <nz-select formControlName="roleId" nzPlaceHolder="select a role">
                                @for (role of roleListData; track $index) {
                                <nz-option [nzValue]="role.id" [nzLabel]="role.name"></nz-option>
                                }
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12 col-md-6 col-lg-4">
                    <nz-form-item>
                        <nz-form-label nzFor="email">email</nz-form-label>
                        <nz-form-control nzErrorTip="Please fill email!">
                            <input nz-input type="text" placeholder="eg. example@gmail.com" formControlName="email">
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div class="col-sm-12 col-md-6 col-lg-4">
                    <nz-form-item>
                        <nz-form-label nzFor="phone">Phone Number</nz-form-label>
                        <nz-form-control nzErrorTip="Please fill phone number!">
                            <input nz-input type="text" placeholder="eg. xxx-xxxx-xxx" formControlName="phone">
                        </nz-form-control>
                    </nz-form-item>
                </div>
                <div class="col-sm-12 col-md-6 col-lg-4">
                    <nz-form-item>
                        <nz-form-label nzFor="Address">Address</nz-form-label>
                        <nz-form-control nzErrorTip="Please fill address!">
                            <input nz-input type="text" placeholder="eg. New York" formControlName="address">
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>
        </form>
        <div class="row">
            <div class="col-sm-12 d-flex justify-content-end">
                @if (!isEdit) {
                    <button nz-button nzType="primary" (click)="createEditStaff()">Create</button>
                } @else {
                        <button nz-button nzType="default" class="me-2" (click)="backToStaffList()">Back</button>
                        <button nz-button nzType="primary" (click)="createEditStaff()">Update</button>
                }
            </div>
        </div>
    </nz-spin>
</div>